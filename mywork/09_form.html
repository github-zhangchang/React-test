<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="js/react.development.js"></script>
    <script src="js/react-dom.development.js"></script>
    <script src="js/babel.min.js"></script>
</head>
<body>
    <div id="div"></div>
</body>
<script type="text/babel">

    //定义组件
    class Login extends React.Component {

        constructor(props){
            super(props)

            this.state = {
                pwd:''
            }
            this.handlerChange = this.handlerChange.bind(this)
            this.handlerSubmit = this.handlerSubmit.bind(this)
        }

        //处理输入框改变事件
        handlerChange(e){
            const pwd = e.target.value
            this.setState({pwd})
        }

        //处理表单提交事件
        handlerSubmit(e){
            //读取输入框数据 - 非受控组件方式（手动收集数据）
            const name = this.nameInput.value
            //读取状态数据 - 受控组件方式（自动收集数据）
            const {pwd} = this.state
            alert(`用户：${name} , 密码：${pwd}`)

            //阻止默认提交行为
            e.preventDefault()
        }

        render(){
            return (
                <form onSubmit={this.handlerSubmit} action="/test">
                    用户：<input type="text" ref={input => this.nameInput = input}/>
                    密码：<input type="password" value={this.state.pwd} onChange={this.handlerChange}/>
                    <input type="submit" value="登陆"/>
                </form>
            )
        }
    }

    //渲染组件标签
    ReactDOM.render(<Login/> , document.getElementById('div'))

</script>
</html>